<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Antigravity Multi-Account Cockpit</title>
    <!-- Bootstrap Icons CDN -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="{{STYLE_URI}}">
</head>
<body>
    <div class="header">
        <div class="header-top-row">
            <div class="header-title-section">
                <h1><i class="bi bi-rocket-takeoff-fill"></i> AG Cockpit</h1>
            </div>
            <div class="view-toggle">
                <div class="view-toggle-btn active" id="btnViewTab" onclick="switchView('tab')"><i class="bi bi-grid-fill"></i> Kartu</div>
                <div class="view-toggle-btn" id="btnViewList" onclick="switchView('list')"><i class="bi bi-list-ul"></i> Daftar</div>
            </div>
        </div>

        <div class="header-bottom-row">
            <div class="header-actions">
                <button class="teal" onclick="openGroupManager()"><i class="bi bi-collection-fill"></i> Manajemen Grup</button>
                <button class="blue" onclick="addAccount()"><i class="bi bi-person-plus-fill"></i> Tambah Akun</button>
                <button class="secondary" onclick="refreshAll()"><i class="bi bi-arrow-clockwise"></i> Refresh Semua</button>
            </div>
            <div class="header-actions">
                <label class="interval-label">
                    <i class="bi bi-clock-fill"></i> Interval:
                    <select id="refreshIntervalSelect" onchange="updateRefreshInterval()">
                        <option value="1">1 menit</option>
                        <option value="2">2 menit</option>
                        <option value="5">5 menit</option>
                        <option value="10">10 menit</option>
                        <option value="15">15 menit</option>
                        <option value="30">30 menit</option>
                        <option value="60">60 menit</option>
                    </select>
                </label>
            </div>
        </div>
    </div>

    <!-- Tab View Container -->
    <div id="tabViewContainer">
        <div class="tabs" id="tabContainer"></div>
        <div id="panelContainer"></div>
    </div>

    <!-- List View Container -->
    <div id="listViewContainer" class="list-view">
        <table class="account-table">
            <thead>
                <tr>
                    <th style="width: 24px;">#</th>
                    <th>Akun (Email)</th>
                    <th>Nama</th>
                    <th>Tingkat</th>
                    <th>Terakhir Aktif</th>
                    <th style="text-align: right; width: 160px;">Aksi</th>
                </tr>
            </thead>
            <tbody id="accountTableBody">
                <!-- Rendered dynamically -->
            </tbody>
        </table>
    </div>

    <!-- Group Management Modal -->
    <div class="modal-overlay" id="groupModal">
        <div class="modal">
            <div class="modal-header">
                <h2><i class="bi bi-collection-fill"></i> Manajemen Grup</h2>
                <button class="modal-close" onclick="closeGroupManager()"><i class="bi bi-x-lg"></i></button>
            </div>
            <div class="modal-body">
                <div class="action-buttons">
                    <button class="teal" onclick="autoGroup()"><i class="bi bi-magic"></i> Pengelompokan Otomatis</button>
                    <button class="secondary" onclick="addNewGroup()"><i class="bi bi-plus-circle-fill"></i> Tambah Grup</button>
                </div>

                <div class="groups-section-title"><i class="bi bi-list-stars"></i> Daftar Grup</div>
                <div class="groups-list" id="groupsList">
                    <!-- Groups rendered dynamically -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="secondary" onclick="closeGroupManager()"><i class="bi bi-x-circle"></i> Batal</button>
                <button class="blue" onclick="saveGroups()"><i class="bi bi-floppy-fill"></i> Simpan Grup</button>
            </div>
        </div>
    </div>

    <script src="{{SCRIPT_URI}}"></script>
</body>
</html>
